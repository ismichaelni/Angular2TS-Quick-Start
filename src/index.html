<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Angular2TS Quick Start</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.0/es6-shim.min.js"></script>
    <script src="https://npmcdn.com/zone.js@0.6.12?main=browser"></script>
    <script src="https://npmcdn.com/reflect-metadata@0.1.3"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.27/system.js"></script>
    <script src="https://npmcdn.com/typescript@1.8.10/lib/typescript.js"></script>
    <script>
      (function(global) {
        var ngVer = '@2.0.0-rc.1';

        var  map = {
          'app':                        'app',
          'rxjs':                       'https://npmcdn.com/rxjs@5.0.0-beta.6',
          'angular2-in-memory-web-api': 'https://npmcdn.com/angular2-in-memory-web-api'
        };

        var packages = {
          'app':                        { main: 'main.ts',  defaultExtension: 'ts' },
          'rxjs':                       { defaultExtension: 'js' },
          'angular2-in-memory-web-api': { defaultExtension: 'js' },
        };

        var packageNames = [
            '@angular/common',
            '@angular/compiler',
            '@angular/core',
            '@angular/http',
            '@angular/platform-browser',
            '@angular/platform-browser-dynamic',
            '@angular/router',
            '@angular/router-deprecated',
            '@angular/upgrade',
        ];

        packageNames.forEach(function(pkgName) {
          map[pkgName] = 'https://npmcdn.com/' + pkgName + ngVer;
        });

        packageNames.forEach(function(pkgName) {
          packages[pkgName] = { main: 'index.js', defaultExtension: 'js' };
        });

        var config = {
          transpiler: 'typescript',
          typescriptOptions: {
            emitDecoratorMetadata: true
          },
          map: map,
          packages: packages
        }

        if (global.filterSystemConfig) { global.filterSystemConfig(config); }

        System.config(config);
      })(this);
    </script>
    <script>
      System.import('app').catch(function(err){ console.error(err);  });
    </script>
  </head>
  <body>
    <app>Loading...</app>
  </body>
</html>
